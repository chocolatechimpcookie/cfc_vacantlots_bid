{
  "author": {
    "name": "Mikhail Davydov",
    "email": "i@azproduction.ru"
  },
  "description": "Promise-based queue",
  "name": "promise-queue",
  "version": "2.2.3",
  "contributors": [
    {
      "name": "Mikhail Davydov",
      "email": "i@azproduction.ru"
    }
  ],
  "repository": {
    "type": "git",
    "url": "git://github.com/azproduction/promise-queue.git"
  },
  "engines": {
    "node": ">= 0.8.0"
  },
  "devDependencies": {
    "jshint": "2.1.3",
    "mocha": "1.11.0",
    "jscs": "1.0.0",
    "istanbul": "0.1.39",
    "chai": "*",
    "sinon": "*",
    "vow": "0.4.1",
    "sinon-chai": "*",
    "mocha-istanbul": "*",
    "coveralls": "*"
  },
  "scripts": {
    "test": "make validate",
    "lint": "make lint",
    "coverage": "make coverage",
    "clean": "make clean"
  },
  "bugs": {
    "url": "https://github.com/azproduction/promise-queue/issues"
  },
  "homepage": "https://github.com/azproduction/promise-queue#readme",
  "main": "index.js",
  "directories": {
    "test": "test"
  },
  "dependencies": {},
  "license": "MIT",
  "readme": "# promise-queue [![NPM Version](https://badge.fury.io/js/promise-queue.png)](https://npmjs.org/package/promise-queue) [![Build Status](https://travis-ci.org/azproduction/promise-queue.png?branch=master)](https://travis-ci.org/azproduction/promise-queue) [![Coverage Status](https://coveralls.io/repos/azproduction/promise-queue/badge.png?branch=master)](https://coveralls.io/r/azproduction/promise-queue) [![Dependency Status](https://gemnasium.com/azproduction/promise-queue.png)](https://gemnasium.com/azproduction/promise-queue)\n\nPromise-based queue\n\n## Installation\n\n`promise-queue` can be installed using `npm`:\n\n```\nnpm install promise-queue\n```\n\n## Interface\n\n - `new Queue(Number maxConcurrent, Number maxQueued): Queue`\n - `Queue#add(Function generator): Promise` - adds function argument that generates a promise to the queue\n - `Queue#getQueueLength(): Number` - returns current length of buffer(added but not started promise generators) `it <= maxQueued`\n - `Queue#getPendingLength(): Number` - returns number of pending(concurrently running) promises `it <= maxConcurrent`\n\n## Example\n\n### Configure queue\n\nBy default `Queue` tries to use global Promises, but you can specify your own promises.\n\n```js\nQueue.configure(require('vow').Promise);\n```\n\nOr use old-style promises approach:\n\n```js\nQueue.configure(function (handler) {\n    var dfd = $.Deferred();\n    try {\n        handler(dfd.resolve, dfd.reject, dfd.notify);\n    } catch (e) {\n        dfd.reject(e);\n    }\n    return dfd.promise();\n});\n```\n\n### Queue one by one example\n\n```js\nvar maxConcurrent = 1;\nvar maxQueue = Infinity;\nvar queue = new Queue(maxConcurrent, maxQueue);\n\napp.get('/version/:user/:repo', function (req, res, next) {\n    queue.add(function () {\n        // Assume that this action is a way too expensive\n        // Call of this function will be delayed on second request\n        return downloadTarballFromGithub(req.params);\n    })\n    .then(parseJson('package.json'))\n    .then(function (package) {\n        res.send(package.version);\n    })\n    .catch(next);\n});\n```\n\n### Getting number of pending promises and queue(buffered promises) length\n\n```js\nvar maxConcurrent = 1;\nvar maxQueue = 1;\nvar queue = new Queue(maxConcurrent, maxQueue);\n\nqueue.add(function () {\n    queue.getQueueLength() === 0;\n    queue.getPendingLength() === 1;\n    return somePromise();\n});\n\nqueue.add(function () {\n    queue.getQueueLength() === 0;\n    queue.getPendingLength() === 0;\n    return somePromise();\n});\n\nqueue.getQueueLength() === 1;\nqueue.getPendingLength() === 1;\n```\n\n[Live example](http://jsfiddle.net/RVuEU/1/)\n",
  "readmeFilename": "README.md",
  "_id": "promise-queue@2.2.3",
  "dist": {
    "shasum": "4f055888e4d48e5b50fca0cf7cd12ece17fd89bf"
  },
  "_from": "promise-queue@^2.2.3",
  "_resolved": "https://registry.npmjs.org/promise-queue/-/promise-queue-2.2.3.tgz"
}
